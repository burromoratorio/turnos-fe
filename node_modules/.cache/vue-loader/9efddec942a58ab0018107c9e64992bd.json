{"remainingRequest":"/home/siacadmin/Documentos/developJs/turnos-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/siacadmin/Documentos/developJs/turnos-fe/src/views/turnos/Turnos.vue?vue&type=style&index=0&id=1fe3aec5&scoped=true&lang=css&","dependencies":[{"path":"/home/siacadmin/Documentos/developJs/turnos-fe/src/views/turnos/Turnos.vue","mtime":1545919860380},{"path":"/home/siacadmin/Documentos/developJs/turnos-fe/node_modules/css-loader/index.js","mtime":1543241794478},{"path":"/home/siacadmin/Documentos/developJs/turnos-fe/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1543241800646},{"path":"/home/siacadmin/Documentos/developJs/turnos-fe/node_modules/postcss-loader/src/index.js","mtime":1543241800114},{"path":"/home/siacadmin/Documentos/developJs/turnos-fe/node_modules/cache-loader/dist/cjs.js","mtime":1543241794162},{"path":"/home/siacadmin/Documentos/developJs/turnos-fe/node_modules/vue-loader/lib/index.js","mtime":1543241800646}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n",{"version":3,"sources":["Turnos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Turnos.vue","sourceRoot":"src/views/turnos","sourcesContent":["<template>\n  <div class=\"animated fadeIn\">\n    <b-row>\n    <b-col md=\"6\">\n        <b-card>\n          <div slot=\"header\">\n            <strong>Turnos del dia</strong>\n          </div>\n\n          <b-table small  :items=\"turnos\" :fields=\"fields\" :current-page=\"currentPage\" :per-page=\"perPage\">\n            <template slot=\"status\" slot-scope=\"turnos\">\n            <b-button type=\"button\" size=\"sm\" variant=\"primary\" @click=\"activModal(turnos.item.status)\">\n              <i :class=\"getBadge(turnos.item.status)\" ></i>\n            </b-button>\n          </template>\n          </b-table>\n          <nav>\n           <b-pagination :total-rows=\"getRowCount(turnos)\" :per-page=\"perPage\" v-model=\"currentPage\" prev-text=\"Prev\" next-text=\"Next\" hide-goto-end-buttons/>\n          </nav>\n          <div slot=\"footer\">\n            <b-button type=\"submit\" size=\"sm\" variant=\"primary\"><i class=\"fa fa-dot-circle-o\"></i> Submit</b-button>\n            <b-button type=\"reset\" size=\"sm\" variant=\"danger\"><i class=\"fa fa-ban\"></i> Reset</b-button>\n          </div>\n        </b-card>\n    </b-col>\n    <b-col md=\"6\">\n        <b-card>\n          <div slot=\"header\">\n            <strong>Horizontal</strong> Form\n          </div>\n          <b-form-group label=\"Fecha\" label-for=\"fecha\" :label-cols=\"3\" :horizontal=\"true\">\n            <b-input-group>\n                <b-form-input type=\"date\" id=\"fecha\" v-model=\"startDate\" v-on:change=\"fetchProfesionales\"></b-form-input>\n                <!-- Attach Right button\n                <b-input-group-append> <b-button variant=\"primary\" @click=\"fetchProfesionales\">Buscar</b-button> </b-input-group-append> -->\n            </b-input-group>\n          </b-form-group>\n          <b-form-group label=\"Profesional\" label-for=\"basicMultiSelect\" :label-cols=\"3\" :horizontal=\"true\">\n            <b-form-select id=\"basicMultiSelect\" :plain=\"true\" :multiple=\"false\" :options=\"profesionales\" :value=\"profesional\"\n            v-on:change=\"cambiando\">\n            </b-form-select>\n          </b-form-group>\n            <div slot=\"footer\">\n              <b-button type=\"submit\" size=\"sm\" variant=\"primary\"><i class=\"fa fa-dot-circle-o\"></i> Submit</b-button>\n              <b-button type=\"reset\" size=\"sm\" variant=\"danger\"><i class=\"fa fa-ban\"></i> Reset</b-button>\n            </div>\n          </b-form>\n        </b-card>\n       </b-col>\n       </b-row>\n      <b-row>\n        <b-col md=\"6\">\n        <b-modal title=\"Agendar Turno\" class=\"modal-primary\" v-model=\"primaryModal\" @ok=\"primaryModal = false\">\n          <b-form>\n            <b-form-group description=\"buscar por nombre y apellido\" label=\"Seleccione el Paciente\"\n             label-for=\"basicName\" :label-cols=\"3\" :horizontal=\"true\">\n             <vue-single-select v-model=\"paciente\" :options=\"pacientes\" :required=\"true\" option-label=\"a_title\"\n              :getOptionDescription=\"getCustomDescription\" option-key=\"id\" @input=\"buscatePaciente\">\n              </vue-single-select>\n            </b-form-group>\n          </b-form>\n        </b-modal>\n        </b-col>\n      </b-row>\n      <b-row>\n        <b-col md=\"6\">\n          <b-modal title=\"Modal title\" class=\"modal-danger\" v-model=\"dangerModal\" @ok=\"eliminaTurno = false\" ok-variant=\"danger\">\n          Est√° Ud. seguro de eliminar el turno?\n        </b-modal>\n        </b-col>\n      </b-row>\n  </div>\n\n</template>\n\n<script>\nimport Vue from 'vue';\nimport VueSingleSelect from \"vue-single-select\";\nimport DataService from '../../services/DataService';\nconst dataservice = new DataService();\nvar turnos = [];\n\nexport default {\n  components: {\n     VueSingleSelect\n    },\n    //...\n  \n  name: 'turnos',\n  data () {\n    return {\n      turnos: [],\n      fields: [\n        {key: 'hora'},\n        {key: 'paciente'},\n        {key: 'status'}\n      ],\n      currentPage: 1,\n      perPage: 5,\n      totalRows: 0,\n      selected: [], // Must be an array reference!\n      show: true,\n      startDate: '',\n      primaryModal: false,\n      dangerModal: false,\n      fruit:[],\n      profesionales:[],\n      profesional:'',\n      fecha:'',\n      pacientes:[],\n      paciente:''\n    }\n  },\n  created () {\n  },\n  watch: {\n    // call again the method if the route changes\n    '$route': 'fetchData'\n   //this.search(equipo_id);\n  },\n  /*mounted() {\n      $(\"#fecha\").datepicker().on(\n        \"changeDate\", () => {this.startDate = $('#fecha').val()}\n      );\n    },*/\n  methods: {\n    fetchProfesionales (fechita) {\n      this.show = true;\n      this.fecha=fechita;\n      dataservice.getProfesionales().then( result => {\n        if(result.status==200){\n          this.profesionales = result.data.results.map(function(obj){\n            var obj_select = {};\n            obj_select.value = obj.id;\n            obj_select.text = obj.apellido+\",\"+obj.nombre;\n            return(obj_select)\n          })\n          this.profesional=this.profesionales[0].value;\n        }\n      },\n      (error) => {\n        //this.showAlert();\n        //this.disabled=1;\n      })\n      \n    },\n    \n    getBadge (status) {\n      return status === 'Active' ? 'fa fa-calendar-minus-o'\n        : status === 'Inactive' ? 'fa fa-calendar-plus-o'\n        : status === 'Pending' ? 'fa fa-pencil': 'fa fa-calendar-minus-o'\n         \n    },\n    getRowCount (items) {\n      return items.length\n    },\n    cambiando(prof){\n      this.profesional=prof;\n      \n      dataservice.getTurnosDiaProfesional(this.fecha,prof).then( result => {\n        if(result.status==200){\n          console.log(result.data);\n        }\n      },\n      (error) => {\n        //this.showAlert();\n        //this.disabled=1;\n      })\n\n\n\n           this.turnos  =[\n            {hora: '08:00', paciente:'Sandro de America', status:'Active'},\n            {hora: '08:15', paciente:'Sandro de America', status:'Pending'},\n            {hora: '08:30', paciente:'Sandro de America', status:'Active'},\n            {hora: '08:45', paciente:'', status:'Inactive'},\n            {hora: '09:00', paciente:'Sandro de America', status:'Active'},\n            {hora: '09:15', paciente:'Sandro de America', status:'Active'},\n            {hora: '09:30', paciente:'Sandro de America', status:'Pending'},\n            {hora: '09:45', paciente:'', status:'Inactive'},\n            {hora: '10:00', paciente:'Sandro de America', status:'Pending'},\n            {hora: '10:15', paciente:'Sandro de America', status:'Active'},\n            {hora: '10:30', paciente:'Sandro de America', status:'Active'},\n            {hora: '10:45', paciente:'', status:'Inactive'},\n            {hora: '11:00', paciente:'Sandro de America', status:'Inactive'},\n            {hora: '11:15', paciente:'', status:'Inactive'},\n            {hora: '11:30', paciente:'Sandro de America', status:'Active'},\n            {hora: '11:45', paciente:'Sandro de America', status:'Active'},\n            {hora: '12:00', paciente:'Sandro de America', status:'Active'},\n            {hora: '12:15', paciente:'Sandro de America', status:'Active'},\n            {hora: '12:30', paciente:'Sandro de America', status:'Pending'},\n            {hora: '12:45', paciente:'Sandro de America', status:'Active'},\n            {hora: '13:00', paciente:'', status:'Inactive'},\n            {hora: '13:15', paciente:'', status:'Inactive'},\n            {hora: '13:30', paciente:'Sandro de America', status:'Active'},\n            {hora: '13:45', paciente:'Sandro de America', status:'Active'}\n        \n        ];\n      },\n      activModal(status){\n        //obtener profesional y fecha de los otros input\n        switch (status) {\n          case \"Active\":\n            //pregunto si quiere eliminar el turno\n            console.log('idProfesional:'+this.profesional+ 'fecha:'+this.startDate);\n        \n            this.dangerModal=true;\n            break;\n          case \"Inactive\":\n          //traigo pacientes y para asignar a ese turno\n            this.pacientes= [{ id: 1, a_title: \"baz bar\" },{ id: 2, a_title: \"foo bar\" },\n                 { id: 3, a_title: \"Eos rerum veniam quia mollitia\"},{ id: 4, a_title: \"Robs Thread\" }];\n            this.primaryModal=true;\n            break;\n          case \"Pending\":\n            //traigo pacientes y permito editar el turno\n            this.pacientes= [{ id: 1, a_title: \"baz bar\" },{ id: 2, a_title: \"foo bar\" },\n                 { id: 3, a_title: \"Eos rerum veniam quia mollitia\"},{ id: 4, a_title: \"Robs Thread\" }];\n            this.primaryModal=true;\n        }\n        \n        \n      },\n      buscatePaciente(opt){\n        if(opt){\n          console.log(\"paciente:\"+opt.a_title+\" ID:\"+opt.id);\n        }        \n        //alert(this.value);\n\n      },\n      getCustomDescription(opt) {\n        return opt.a_title\n      },\n      eliminaTurno(){\n        console.log(\"eliminando\");\n      }\n  }\n}\n</script>\n\n<style scoped>\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n</style>\n"]}]}